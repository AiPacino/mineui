define("alipay/slider/1.1.1/mouse",["$","arale/widget/1.0.3/widget","arale/base/1.0.1/base","arale/class/1.0.0/class","arale/events/1.0.0/events"],function(a,b,c){var d=a("$"),e=a("arale/widget/1.0.3/widget"),f=e.extend({attrs:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.on("mousedown."+this.cid,function(b){return a._mouseDown(b)}).on("click."+this.cid,function(b){return!0===d.data(b.target,a.cid+".preventClickEvent")?(d.removeData(b.target,a.cid+".preventClickEvent"),b.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.cid),this._mouseMoveDelegate&&d(document).unbind("mousemove."+this.cid,this._mouseMoveDelegate).unbind("mouseup."+this.ci,this._mouseUpDelegate)},_mouseDown:function(a){if(!f.handled){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var b=this,c=1===a.which,e=b.get("cancel"),g=b.get("delay"),h="string"==typeof e&&a.target.nodeName?d(a.target).closest(e).length:!1;return c&&!h&&this._mouseCapture(a)?(this.mouseDelayMet=!g,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=!0},g)),this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(a)!==!1,!this._mouseStarted)?(a.preventDefault(),!0):(!0===d.data(a.target,this.cid+".preventClickEvent")&&d.removeData(a.target,this.cid+".preventClickEvent"),this._mouseMoveDelegate=d.proxy(this,"_mouseMove"),this._mouseUpDelegate=d.proxy(this,"_mouseUp"),d(document).on("mousemove."+this.cid,this._mouseMoveDelegate).on("mouseup."+this.cid,this._mouseUpDelegate),a.preventDefault(),f.handled=!0,!0)):!0}},_mouseMove:function(a){return!d.browser.msie||document.documentMode>=9||a.button?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return a||(a=d.Event("mouseup")),d(document).unbind("mousemove."+this.cid,this._mouseMoveDelegate).unbind("mouseup."+this.cid,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&d.data(a.target,this.cid+".preventClickEvent",!0),this._mouseStop(a)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.get("distance")},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});f.handled=!1,d(document).mouseup(function(){f.handled=!1}),c.exports=f}),define("alipay/slider/1.1.1/slider",["./mouse","$","arale/widget/1.0.3/widget","arale/base/1.0.1/base","arale/class/1.0.0/class","arale/events/1.0.0/events"],function(a,b,c){var d=a("$"),e=a("./mouse"),f=e.extend({attrs:{animate:!0,distance:0,max:100,min:0,orientation:"horizontal",allowCross:!1,range:!1,step:1,value:0,values:null},setup:function(){var a,b,c=this.get("disabled"),e=this.get("range"),f=this.get("values"),g=this.get("min"),h=this.element.find(".ui-slider-handle").addClass("ui-state-default"),i="<a class='ui-slider-handle ui-state-default' href='#'></a>",j=[],k=this;for(this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+(c?" ui-slider-disabled ui-disabled":"")),this.range=d([]),e&&(e===!0&&(f||(f=[g,g]),f.length&&2!==f.length&&(f=[f[0],f[0]])),this.range=d("<div></div>").appendTo(this.element).addClass("ui-slider-range"+("min"===e||"max"===e?" ui-slider-range-"+e:""))),b=f&&f.length||1,a=h.length;b>a;a++)j.push(i);this.handles=h.add(d(j.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).mouseenter(function(){c||d(this).addClass("ui-state-hover")}).mouseleave(function(){d(this).removeClass("ui-state-hover")}).focus(function(){c?d(this).blur():(d(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),d(this).addClass("ui-state-focus"))}).blur(function(){d(this).removeClass("ui-state-focus")}),this.handles.each(function(a){d(this).data("ui-slider-handle-index",a)}),k._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled"),this._mouseDestroy(),f.superclass.destroy.call(this)},_mouseCapture:function(a){var b,c,e,f,g,h,i,j,k=this,l=this.get("min"),m=this.get("max");return this.get("disabled")?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b),this.values(0)===this.values(1)?(g=c>this.values(0)?1:this.values(0)>c?0:this._last_index,f=d(this.handles[g])):(e=m-l+1,this.handles.each(function(a){var b=Math.abs(c-k.values(a));e>b&&(e=b,f=d(this),g=a)})),this.get("range")===!0&&this.values(1)===this.get("min")&&(g=1,f=d(this.handles[g])),this._last_index=g,h=this._start(a,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!d(a.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:a.pageX-i.left-f.width()/2,top:a.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,g,c),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);if(this.get("range")&&this.get("allowCross")&&this.values(0)===this.values(1)){var d=this._handleIndex;this.values(0)>c?this._handleIndex=0:c>this.values(1)&&(this._handleIndex=1),this.trigger("slide",a,{handle:this.handles[d],value:this.values(0),values:this.values()}),this.handles.eq(this._handleIndex).focus()}return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.get("orientation")?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f,g=this.get("min"),h=this.get("max");return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=h-g,f=g+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()},d=this.get("values");return d&&d.length&&(c.value=this.values(b),c.values=this.values()),this.trigger("start",a,c)},_slide:function(a,b,c){var d,e,f,g=this.get("range"),h=this.get("values");h&&h.length?(d=this.values(b?0:1),2===h.length&&g===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this.trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this.trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()},d=this.get("values");d&&d.length&&(c.value=this.values(b),c.values=this.values()),this.trigger("stop",a,c)},_change:function(a,b){if(!this._mouseSliding){var c={handle:this.handles[b],value:this.value()},d=this.get("values");d&&d.length&&(c.value=this.values(b),c.values=this.values()),this.trigger("change",a,c)}},value:function(a){return arguments.length?(this.set("value",this._trimAlignValue(a)),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(a,b){var c,e,f,g=this.get("values");if(arguments.length>1)return g[a]=this._trimAlignValue(b),this._refreshValue(),this._change(null,a),void 0;if(!arguments.length)return this._values();if(!d.isArray(arguments[0]))return g&&g.length?this._values(a):this.value();for(c=g,e=arguments[0],f=0;c.length>f;f+=1)c[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_value:function(){var a=this.get("value");return a=this._trimAlignValue(a)},_values:function(a){var b,c,d,e=this.get("values");if(arguments.length)return b=e[a],b=this._trimAlignValue(b);for(c=e.slice(),d=0;c.length>d;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){var b=this.get("min"),c=this.get("max"),d=this.get("step");if(b>=a)return b;if(a>=c)return c;var d=d>0?d:1,e=(a-b)%d,f=a-e;return 2*Math.abs(e)>=d&&(f+=e>0?d:-d),parseFloat(f.toFixed(5))},_refreshValue:function(){var a,b,c,e,f,g=this.get("range"),h=this.get("values"),i=this.get("min"),j=this.get("max"),k=this,l=this.get("animate"),m=this._animateOff?!1:l,n={};h&&h.length?this.handles.each(function(c){b=100*((k.values(c)-i)/(j-i)),n["horizontal"===k.orientation?"left":"bottom"]=b+"%",d(this).stop(1,1)[m?"animate":"css"](n,l),g===!0&&("horizontal"===k.orientation?(0===c&&k.range.stop(1,1)[m?"animate":"css"]({left:b+"%"},l),1===c&&k.range[m?"animate":"css"]({width:b-a+"%"},{queue:!1,duration:l})):(0===c&&k.range.stop(1,1)[m?"animate":"css"]({bottom:b+"%"},l),1===c&&k.range[m?"animate":"css"]({height:b-a+"%"},{queue:!1,duration:l}))),a=b}):(c=this.value(),e=i,f=j,b=f!==e?100*((c-e)/(f-e)):0,n["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[m?"animate":"css"](n,l),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[m?"animate":"css"]({width:b+"%"},l),"max"===g&&"horizontal"===this.orientation&&this.range[m?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:l}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[m?"animate":"css"]({height:b+"%"},l),"max"===g&&"vertical"===this.orientation&&this.range[m?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:l}))}});c.exports=f});