light.has("/alipay/security/base")||function(e){var h=e.client.info,i=0,j=[],f=function(a){if(a!==j)throw"invalid constructor, use create() instead.";},k=function(a,d){return a&&d&&1===a.nodeType&&"undefined"!==typeof a[d]};e.register("alipay/security/base",window,f);var g=alipay.security;g.downloadServer=g.downloadServer||"//download."+e.baseDomain;g.securityCenterServer=g.securityCenterServer||"//securitycenter."+e.baseDomain;f.defaults={id:"",container:null,msgMode:"quiet",msgTitle:"",msgNormalAttribute:"data-explain",
msgFormItemContainer:null,msgClass:"fm-explain",msgErrorClass:"fm-error",msgHandler:null};f.Name="base";f.properties={element:null,_readyList:[]};g.monitor=function(a,d){window.monitor&&monitor.log("sc",a||"unknown",d);e.track("sc-"+a+"-"+d)};g.create=f.create=function(a,d){if(!a)throw"invalid param";var b=new a(j);b.__type=a;var c=f.defaults;a.defaults&&(a.defaults=c=e.extend({},f.defaults,a.defaults));c=b.options=e.extend({},c,d);c.id?(c.dataId=c.id+(new Date).getTime()+Math.floor(1E3*Math.random()),
e.node("[id="+c.id+"]:not([data-id]):first").attr("data-id",c.dataId),c.uniqElement=e.node("[data-id="+c.dataId+"]:first")[0]):(i++,c.id="_secprd_"+i);!e.get(c.id)&&"string"===typeof c.container&&(c.container=e.get(c.container));e.extend(b,f.properties,a.properties);a.prototype.postInit&&a.prototype.postInit.call(b);return b};g.activeXEnabled=f.activeXEnabled=function(){if(!window.ActiveXObject instanceof Function)return!1;var a=window.external;try{if(a&&"undefined"!=typeof a.msActiveXFilteringEnabled&&
a.msActiveXFilteringEnabled())return!1}catch(d){}return!0}();g.refreshStatus=f.refreshStatus=function(a){var d=a.installed=!1,b=h.engine.trident?a.info.activex:a.info.plugin;if(!b)return!1;if(h.engine.trident){if(!g.activeXEnabled)return!1;var c;try{c=new ActiveXObject(b),d=!!c}catch(e){}finally{}}else h.engine.presto&&(b=b.replace(/,/,"")),d=!(!navigator.plugins||!navigator.plugins[b]);return a.installed=d};f.prototype={toString:function(){return this.__type.Name+" ("+this.options.id+")"},ready:!1,
onready:function(a){this.ready?a.apply(this):this._readyList.push(a)},hasAPI:function(a){return k(this.element,a)},dispose:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null);this.ready=!1;this._readyList.length=0},api:function(a,d){if(!this.hasAPI(a))throw"Property is not available: "+a;try{return void 0===d?this.element[a]:this.element[a]=d}catch(b){this.catchError.call(this,a,b)}return null},render:function(){var a=!1,d=function(){var c=this,b=e.get(this.options.id);
if(k(b,this.__type.defaultMethod)){this.element=b;this.ready=!0;this.__type.renderHandler&&(a=!1===this.__type.renderHandler.call(this,!1));for(b=this._readyList;b.length;)b.shift().apply(this)}else a||setTimeout(function(){d.call(c)},0)},b=function(a,b,c){this.__type.renderingHandler&&this.__type.renderingHandler.call(this,!0);e.isFunction(b)&&this._readyList.push(b);c||(b=this.options.container||document.body,b.childNodes.length?(c=document.createElement("span"),c.innerHTML=a,b.appendChild(c)):
b.innerHTML=a);d.call(this)},c=function(){var a=this,b=this.__type;g.refreshStatus(b);b.installed?(e.log("Plugin just installed."),b.installedHandler&&b.installedHandler.call(this)):setTimeout(function(){c.call(a)},10)};return function(a,d){if(!this.alive){this.alive=!0;var f=e.extend({},this.__type.info,this.options),g=this;this.__type.installed||c.call(this);e.ready(function(){b.call(g,e.substitute(g.__type.template,f),a,d)})}}}(),getMessage:function(a){var d,b=this.__type;e.each(b.message,function(b,
e){if(-1!==b.indexOf("-")){var g=b.split("-",2),f=parseInt(g[0],10)||Number.MIN_VALUE,g=parseInt(g[1],10)||Number.MAX_VALUE;found=a>=f&&a<=g}else found=b==a;found&&(d=e);return!found});d||(d=b.message[0]);return d},showMessage:function(a){var d=0,b="",c=this.options.msgMode;"string"===typeof a?b=a:"object"===typeof a&&(void 0!==a.status?(d=a.status,b=a.msg):void 0!==a.number&&(d=a.number,b=a.description));b||(b="\u672a\u77e5\u9519\u8bef",e.log("Cannot determine message %s.",a));a={title:"\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef",
type:"string",content:b,code:d,show:!0};switch(c){case "dialog":case "tooltip":e.page.ui[c](a);break;case "form":break;case "custom":e.log("Handler not found.");break;default:e.log("%d, %s",a.code,a.content)}},catchError:function(a,d,b){var c=this.__type,f=d.status||d.number||0;0>f&&(f=(4294967295+f+1).toString(16));e.log("Caught error %s from %s in action %s.",f,c.Name,a);g.monitor(c.Name,f);b||this.showMessage(d)}}}(window.light);